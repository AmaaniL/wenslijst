<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kerstverlanglijstje</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #f4f1ee;
      --card: #ffffff;
      --accent: #b4363d;
      --accent-soft: #c85e64;
      --text: #3b3b3b;
      --muted: #6a6a6a;
      --radius: 14px;
      --winter-blue: #6aa8c7;
      --winter-blue-soft: #b7d7e8;
    }
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Nunito", sans-serif;
      background: linear-gradient(180deg, #e6edf2 0%, #f6f3f0 100%);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      padding:28px;
      display:flex;
      justify-content:center;
    }

    .container{
      width:100%;
      max-width:900px;
      background:var(--card);
      border-radius:var(--radius);
      padding:28px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.08);
      border:1px solid rgba(0,0,0,0.05);
    }

    header{
      display:flex;
      gap:16px;
      align-items:center;
      margin-bottom:20px;
    }
    .logo{
      width:70px; height:70px;
      border-radius:18px;
      background: linear-gradient(135deg, var(--winter-blue), var(--winter-blue-soft));
      display:flex; align-items:center; justify-content:center;
      font-size:28px; color:white; font-weight:700;
      box-shadow:0 4px 14px rgba(0,0,0,0.1);
    }

    h1{margin:0;font-size:26px;color:var(--accent)}
    p.lead{margin:0;color:var(--muted);font-size:14px}

    .meta{
      margin-left:auto;
      text-align:right;
      font-size:13px; color:var(--muted);
    }

    .wishlist{
      display:flex;
      flex-direction:column;
      gap:14px;
      margin-top:10px;
    }

    .item{
      background:#fafafa;
      border-radius:var(--radius);
      padding:14px 16px;
      border:1px solid rgba(0,0,0,0.05);
      display:flex;
      gap:12px;
      align-items:flex-start;
    }
    .checkbox{
      width:22px; height:22px;
      border-radius:6px;
      border:2px solid var(--winter-blue);
      display:flex; align-items:center; justify-content:center;
      font-size:14px; color:var(--winter-blue);
    }
    .item h3{
      margin:0;font-size:16px;color:var(--text);
    }

    .sublist{
      margin-top:8px;
      padding-left:20px;
      display:flex;
      flex-direction:column;
      gap:8px;
    }

    footer{
      margin-top:20px;
      font-size:13px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
    }
  </style>
</head>
<body>
<div class="container">
  <header>
    <div class="logo">‚ùÑÔ∏è</div>
    <div>
      <h1>Mijn Kerstverlanglijstje</h1>
      <p class="lead">Een warme, winterse wensenlijst ‚ú®</p>
    </div>
    <div class="meta">
      <div id="last-edited">Laatst bewerkt: ‚Äî</div>
      <div id="source-note" style="font-size:12px">Bron: Git commit / fallback</div>
    </div>
  </header>

  <section class="wishlist">
    <div class="item">
      <div class="checkbox"></div>
      <div>
        <h3><a href="https://vandezotte.nl/collections/vendors?q=Van%20De%20Zotte" target="_blank">De staaltjekit van Van De Zotte Parfum</a></h3>
      </div>
    </div>

    <div class="item">
      <div class="checkbox"></div>
      <div>
        <h3>Pralines van Leonidas, Lindt of Neuhaus (liefst donkere of melk chocolade)</h3>
      </div>
    </div>

    <div class="item">
      <div class="checkbox"></div>
      <div>
        <h3>Een reep chocolade van Tony's Chocoloney's</h3>
      </div>
    </div>

    <div class="item">
      <div class="checkbox"></div>
      <div>
        <h3>Honing van een imker</h3>
      </div>
    </div>

    <div class="item">
      <div class="checkbox"></div>
      <div>
        <h3>Cadeaubon voor:</h3>
        <div class="sublist">
          <div>‚Ä¢ Supra Bazar</div>
          <div>‚Ä¢ <a href="https://www.lush.com/nl/nl/" target="_blank">Lush</a></div>
          <div>‚Ä¢ <a href="https://wondr.care" target="_blank">Wondr</a></div>
          <div>‚Ä¢ Veritas</div>
          <div>‚Ä¢ Kinepolis</div>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div>Warme wintergroetjes üéÑ</div>
    <div style="font-size:12px">Versie: <span id="version">1</span></div>
  </footer>
</div>

<script>
  const GITHUB_OWNER = "AmaaniL";
  const GITHUB_REPO  = "Wenslijst";
  const FILE_PATH    = "index.html";

  function formatDate(iso){
    try{
      const d = new Date(iso);
      return d.toLocaleString("nl-NL", { year:'numeric', month:'long', day:'numeric', hour:'2-digit', minute:'2-digit' });
    }catch(e){return iso;}
  }

  async function fetchLastCommit(){
    const url = `https://api.github.com/repos/${GITHUB_OWNER}/${GITHUB_REPO}/commits?path=${FILE_PATH}&page=1&per_page=1`;
    try{
      const r = await fetch(url);
      if(!r.ok) throw new Error();
      const data = await r.json();
      if(data && data.length){
        return {source:'git', date:data[0].commit.author.date};
      }
      return null;
    } catch(e){ return null; }
  }

  function fallbackModified(){
    return {source:'fallback', date:new Date(document.lastModified).toISOString()};
  }

  async function setDate(){
    const el = document.getElementById('last-edited');
    if(GITHUB_OWNER.includes("YOUR_")){
      el.textContent = "Laatst bewerkt: configureer repo info in script";
      return;
    }

    const git = await fetchLastCommit();
    if(git){
      el.textContent = "Laatst bewerkt: " + formatDate(git.date);
      document.getElementById('source-note').textContent = "Bron: Git commit";
      return;
    }

    const fb = fallbackModified();
    el.textContent = "Laatst bewerkt: " + formatDate(fb.date) + " (fallback)";
    document.getElementById('source-note').textContent = "Bron: fallback";
  }

  setDate();
</script>

</body>
</html>
